<!-- CART -->
<div class="page-content cart-page">
  {% if cart.item_count == 0 %}
    <p>Your cart is empty.</p>
  {% else %}
    <ul class="cart-items">
      {% for item in cart.items %}
        <li>
          <!-- The simplest standard remove button: -->
          <form method="post" action="/cart/change">
            <!-- 'line' is 1-based index of this item in cart -->
            <input type="hidden" name="line" value="{{ forloop.index }}">
            <!-- Setting quantity to zero removes that line -->
            <input type="hidden" name="quantity" value="0">
            
            <button type="submit">Remove</button>
          </form>

          <!-- For debugging, show you which line # and key: -->
          <p>
            <strong>{{ item.product.title }}</strong>  
            (line {{ forloop.index }}, key: {{ item.key }}, qty: {{ item.quantity }})
          </p>
        </li>
      {% endfor %}
    </ul>
    
    <p>Cart total: {{ cart.total_price | money }}</p>
    <a href="/checkout">Go to checkout</a>
  {% endif %}
</div>
